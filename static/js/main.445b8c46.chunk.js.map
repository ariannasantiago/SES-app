{"version":3,"sources":["components/Header.js","components/Footer.js","components/MovieInfoCard2.js","components/MovieSearchList.js","App.js","reportWebVitals.js","index.js"],"names":["Header","props","className","title","Footer","MovieInfoCard2","useState","error","setError","isLoaded","setIsLoaded","movieTitle","setMovieTitle","movieRelease","setMovieRelease","movieRuntime","setMovieRuntime","movieGenre","setMovieGenre","movieDirector","setMovieDirector","moviePoster","setMoviePoster","movieRating","setMovieRating","movieID","encodeURIComponent","movie","useEffect","apiIdURL","process","console","log","a","fetch","then","res","json","response","Title","Released","Runtime","Genre","Director","imdbRating","Poster","catch","message","class","style","width","Card","Img","variant","src","Body","Subtitle","Text","MovieSearchList","movies","setMovies","query","setQuery","totalResults","setTotalResults","totalPages","setTotalPages","pageNum","setPageNum","resultBoolean","setresultBoolean","loading","setLoading","fetchMyAPI","searchParam","apiURL","Response","Error","pages","Math","ceil","onSubmit","e","preventDefault","htmlFor","id","type","value","onChange","target","onClick","marginLeft","map","imdbID","paddingBottom","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.445b8c46.chunk.js","sourcesContent":["import React from 'react';\nimport './Header.css';\n\nfunction Header(props) {\n    return (\n        <div className=\"header\">\n            {props.title}\n        </div>\n    )\n}\n\nexport default Header;","import Reach from 'react';\nimport './Footer.css';\n\nfunction Footer(props) {\n    return(\n        <div className=\"footer\">\n            {props.title}\n        </div>\n    )\n}\n\nexport default Footer;","import React, { useEffect, useState } from 'react';\nimport './MovieInfoCard.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport  Card from 'react-bootstrap/Card';\n\nfunction MovieInfoCard2(props) {\n    //passes imdb id\n\n    const [error, setError] = useState(null);\n    const [isLoaded, setIsLoaded] = useState(true);\n\n    const [movieTitle, setMovieTitle] = useState('');\n    const [movieRelease, setMovieRelease] = useState(0);\n    const [movieRuntime, setMovieRuntime] = useState(0);\n    const [movieGenre, setMovieGenre] = useState('');\n    const [movieDirector, setMovieDirector] = useState('');\n    const [moviePoster, setMoviePoster] = useState('');\n    const [movieRating, setMovieRating] = useState(0);\n\n    const movieID = encodeURIComponent(props.movie);\n    const API_KEY = process.env.REACT_APP_API_KEY;\n    const NULL_POSTER_ID = process.env.REACT_APP_NULL_POSTER_URL;\n\n\n    useEffect(() => {\n        const apiIdURL = `https://www.omdbapi.com/?apikey=${API_KEY}&i=${movieID}`;\n        console.log(apiIdURL);\n\n        (async () => {\n            await fetch(apiIdURL) \n                .then(res => res.json())\n                .then (\n                    (response) => {\n                        setMovieTitle(response.Title);\n                        setMovieRelease(response.Released);\n                        setMovieRuntime(response.Runtime);\n                        setMovieGenre(response.Genre);\n                        setMovieDirector(response.Director);\n                        setMovieRating(response.imdbRating)\n                        console.log(response);\n\n                        if (response.Poster === 'N/A') {\n                            setMoviePoster(NULL_POSTER_ID);\n                        } else {\n                            setMoviePoster(response.Poster);\n                        }\n                    }\n                )\n                .catch(\n                    (error) => {\n                        setIsLoaded(false);\n                        setError(error);\n                    }\n                )\n        } ) ()\n        \n    }, [movieID])\n\n    if (error) {\n        return <div>Error: {error.message}</div>;\n    } else if (!isLoaded) {\n        return <div>Loading...</div>\n    } else {\n\n        return (\n\n            <div class=\"card h-100 \" style = {{ width: '14rem'}}>\n                    <div><Card.Img variant =\"top\" src={moviePoster}></Card.Img></div>\n                    <Card.Body>\n                        <Card.Title>{movieTitle}</Card.Title>\n                        <Card.Subtitle className=\"mb-s text-muted\">{movieRelease}</Card.Subtitle>\n                        <Card.Text>\n                           <p>\n                                Runtime: {movieRuntime}<br></br>\n                                Genre: {movieGenre}<br></br>\n                                Director: {movieDirector}<br></br>\n                                Rating: {movieRating}<br></br>\n                            </p>\n                       </Card.Text>\n                   </Card.Body>\n            </div>\n            \n        ) \n    }\n}\n\nexport default MovieInfoCard2;","import React, { useEffect, useState } from 'react';\nimport './MovieSearchList.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport MovieInfoCard2 from './MovieInfoCard2';\n\nfunction MovieSearchList() {\n    const [movies, setMovies] = useState([])\n    const [query, setQuery] = useState('');\n    const [totalResults, setTotalResults] = useState(0);\n    const [totalPages, setTotalPages] = useState(0);\n    const [pageNum, setPageNum] = useState(1);\n    const [resultBoolean, setresultBoolean] = useState(true);\n    const [error, setError] = useState(null);\n\n    const [loading, setLoading] = useState(false);\n\n    function handleSumbit(e) {\n        e.preventDefault();\n        setTotalPages(0);\n        setPageNum(1);\n        fetchMyAPI();\n    }\n\n    async function fetchMyAPI () {\n        const API_KEY = process.env.REACT_APP_API_KEY;\n        const searchParam = encodeURIComponent(query)\n        console.log(searchParam);\n        const apiURL = `https://www.omdbapi.com/?apikey=${API_KEY}&s=${searchParam}&type=movie&page=${pageNum}&r=json`;\n        console.log(apiURL);\n        \n        let response = await fetch(apiURL);\n        response = await response.json();\n        \n        console.log(response);\n\n        if (response.Response === \"False\") {\n            setresultBoolean(false, console.log('Results? ', resultBoolean));\n            setError(response.Error);\n            setPageNum(1);\n            setTotalResults(0);\n        } \n        else if (loading) {\n            //if want to load more, add movies to result array, set loading false when finished\n            console.log(\"loading brand triggered\");\n            setMovies([...movies, ...response['Search']]);\n            setLoading(false, console.log('loading false'));\n        }\n        else {\n\n            setresultBoolean(true, console.log('Results? ', resultBoolean));\n\n            console.log('Search query response',response['Search']);\n            setMovies(response['Search']);\n\n            console.log('response results: ',response.totalResults);\n            setTotalResults(response.totalResults, console.log('Total Results: ', totalResults));\n\n            const pages = Math.ceil((response.totalResults)/10);\n            setTotalPages(pages, console.log('Total Pages: ', totalPages));\n\n        }\n\n    }\n\n    //2nd if-statement in nextPage and previousPage allows last/first page of results to be fetched and rendered. Used as a \"band-aid\" fix for render/fetch lag of setState(), not ideal as it re-queries existing information.\n\n    useEffect(() => {\n        if(query !== \"\") {\n            fetchMyAPI();\n        }\n    }, [pageNum]);\n\n    function nextPage() {\n        if (pageNum < totalPages) {\n            setPageNum(pageNum+1, \n                console.log('next -> current page:', pageNum));\n        }\n\n\n        console.log('next -> current page:', pageNum);\n\n    } \n\n    //hello\n\n    function previousPage() {\n        if (pageNum !== 1) {\n            setPageNum(pageNum-1,  \n            console.log('prev -> current page',pageNum)\n            );\n        }\n    }\n\n    function loadMore() {\n        if (pageNum < totalPages) {\n            console.log(\"load more clicked\");\n            setLoading(true, console.log('loading true'));\n            setPageNum(pageNum+1);\n        }\n    }\n\n\n\n    return (\n        <div className=\"moviesearchlist\">\n            <div class=\"hero\">\n                <form onSubmit={handleSumbit}>\n                    <label htmlFor=\"queryInput\">Search:</label>\n                    <input\n                        id=\"queryInput\"\n                        type=\"text\"\n                        value={query}\n                        onChange={(e => setQuery(e.target.value))}\n                        />\n                    <button className=\"search\">Submit</button>\n\n                </form>\n                \n\n                <div className=\"pagebuttons\">\n                    <button onClick={previousPage} style={{marginLeft: \"0%\"}}>Previous Page</button>\n                    <button \n                        onClick={nextPage} style={{marginLeft: \"0%\"}}>Next Page \n                    </button>\n                </div>\n\n                <div className=\"searchdetails\">\n                    <p>Search Term: {query} <br></br>\n                    Total Results Found: {totalResults} Total Pages: {totalPages} Current Page: {pageNum}</p>\n                </div>\n\n            </div>  \n            <div className = \"searchresults\" class=\"d-flex justify-content-around\">             \n                { resultBoolean ? (\n                    <div class=\"row g-3\">                    \n                    {/* Below is a test of mapping the search results array to individual objects */}\n                        {movies.map(movie => {\n                        //movies.TotalResults coult be zero?\n                            return(\n                        // <li movie={movie} >{movie.Title} {movie.imdbID}</li>\n                        \n                        <div class=\"col\">\n                            <MovieInfoCard2 movie={movie.imdbID} key={movie.imdbID}></MovieInfoCard2>\n                        </div>\n                                )})}\n                        <div className=\"loadMore\">\n                            {(totalPages !== pageNum) && (totalPages !== 0) && \n                            <button className=\"load-more-btn\"  onClick={() => loadMore()}>{loading ? 'Loading...' : 'Load More'}</button>}\n                        </div>\n                        <div className=\"searchdetails\" style={{paddingBottom: '1rem'}}>\n                            <p>Search Term: {query} <br></br>\n                            Total Results: {totalResults} | Total Pages: {totalPages} | Current Page: {pageNum}</p>\n                        </div>\n                    </div>\n                    \n\n                    ) : (\n                    <div>{error}</div>\n                    )\n                }\n            </div>\n\n\n                \n            \n\n        </div>\n    )\n}\n\nexport default MovieSearchList;","import {React} from 'react';\nimport './App.css';\nimport Header from './components/Header';\nimport Footer from './components/Footer';\nimport MovieSearchList from './components/MovieSearchList';\n\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Header title=\"Movies\"></Header>\n      <MovieSearchList></MovieSearchList>\n      <Footer title=\"2021\"></Footer>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}